[
  {
    "objectID": "quarto.yml.html",
    "href": "quarto.yml.html",
    "title": "YML",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "quarto.yml.html#quarto",
    "href": "quarto.yml.html#quarto",
    "title": "YML",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "quarto.yml.html#running-code",
    "href": "quarto.yml.html#running-code",
    "title": "YML",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Group 1 Final Project",
    "section": "",
    "text": "STAT 515 Section 001\nGroup 1\n\n\n\n\n\n\n\n\n\nCory Trainor\n\n\n\n\n\n\n\nLana Hashem\n\n\n\n\n\n\n\nNeelkumar Patel"
  },
  {
    "objectID": "Codes.html",
    "href": "Codes.html",
    "title": "Project Codes",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\nstorms &lt;- read.csv('2023_all_storms.csv')\ntornado &lt;- subset(storms, EVENT_TYPE == \"Tornado\")\ntornado$TOR_F_SCALE&lt;-factor(tornado$TOR_F_SCALE,levels = c('EFU','EF0','EF1','EF2','EF3','EF4'))\nplot1 &lt;- ggplot(tornado, aes(x = TOR_WIDTH, y=TOR_LENGTH, color = TOR_F_SCALE))+geom_point()+\n  scale_color_brewer(palette = \"YlOrRd\")+\n  labs(title = 'Tornado Dimensions by Intensity',x='Tornado Width (yards)',y='Tornado Length (miles)',color = 'EF Scale',caption = 'Figure 3')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))\nplot2 &lt;- ggplot(tornado, aes(x = DURATION1, y=TOR_WIDTH, color = TOR_F_SCALE))+geom_point()+\n  scale_color_brewer(palette = \"YlOrRd\")+\n  labs(title = 'Tornado Dimensions by Intensity',x='Tornado Duration (minutes)',y='Tornado Width (yards)',color = 'EF Scale',caption = 'Figure 4')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))\ngrid.arrange(plot1,plot2, ncol=2)\n\n\n\n\n\n\n\n\n\n\n\n\ntornado$SEASON&lt;-factor(tornado$SEASON,levels = c('Spring','Summer','Fall','Winter'))\nggplot(tornado, aes(x=REGION, fill = SEASON))+\n  geom_bar(position = 'dodge',color = \"black\")+scale_fill_manual(values = c('pink','lightgreen','orange','lightblue'))+\n  labs(title = 'Tornadoes by Season and Region',x='Region',y='Frequency',fill='Season',caption = 'Figure 5')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))"
  },
  {
    "objectID": "Codes.html#data-trends",
    "href": "Codes.html#data-trends",
    "title": "Project Codes",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\nstorms &lt;- read.csv('2023_all_storms.csv')\ntornado &lt;- subset(storms, EVENT_TYPE == \"Tornado\")\ntornado$TOR_F_SCALE&lt;-factor(tornado$TOR_F_SCALE,levels = c('EFU','EF0','EF1','EF2','EF3','EF4'))\nplot1 &lt;- ggplot(tornado, aes(x = TOR_WIDTH, y=TOR_LENGTH, color = TOR_F_SCALE))+geom_point()+\n  scale_color_brewer(palette = \"YlOrRd\")+\n  labs(title = 'Tornado Dimensions by Intensity',x='Tornado Width (yards)',y='Tornado Length (miles)',color = 'EF Scale',caption = 'Figure 3')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))\nplot2 &lt;- ggplot(tornado, aes(x = DURATION1, y=TOR_WIDTH, color = TOR_F_SCALE))+geom_point()+\n  scale_color_brewer(palette = \"YlOrRd\")+\n  labs(title = 'Tornado Dimensions by Intensity',x='Tornado Duration (minutes)',y='Tornado Width (yards)',color = 'EF Scale',caption = 'Figure 4')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))\ngrid.arrange(plot1,plot2, ncol=2)\n\n\n\n\n\n\n\n\n\n\n\n\ntornado$SEASON&lt;-factor(tornado$SEASON,levels = c('Spring','Summer','Fall','Winter'))\nggplot(tornado, aes(x=REGION, fill = SEASON))+\n  geom_bar(position = 'dodge',color = \"black\")+scale_fill_manual(values = c('pink','lightgreen','orange','lightblue'))+\n  labs(title = 'Tornadoes by Season and Region',x='Region',y='Frequency',fill='Season',caption = 'Figure 5')+\n  theme(plot.title.position = 'plot',plot.caption = element_text(hjust=0))"
  },
  {
    "objectID": "Codes.html#research-questions",
    "href": "Codes.html#research-questions",
    "title": "Project Codes",
    "section": "Research Questions",
    "text": "Research Questions\n\nQuestion 1: Is there a relationship between tornado regions and the resulting intensity?\n\nlibrary(ggplot2)\nlibrary(leaflet)\nlibrary(stringr)\nlibrary(reshape2)\n\n\nAttaching package: 'reshape2'\n\n\nThe following object is masked from 'package:tidyr':\n\n    smiths\n\nlibrary(dplyr)\n\n\nData Cleaning and Preparation\n\n##data cleaning\n\n#fixing the naming:\ntornado1 &lt;- read.csv(('tornado_subset.csv'))\nnames(tornado1) &lt;- tolower(names(tornado1))\n# Remove leading and trailing spaces\ntornado1$region &lt;- str_trim(tornado1$region)\n\ntornado1$region &lt;- recode(tornado1$region, \n                      \"NORTHWEST\" = \"NW\", \n                      \"NORTHEAST\" = \"NE\", \n                      \"SOUTHEAST\" = \"SE\", \n                      \"SOUTHWEST\" = \"SW\")\n\n#handling missing vals\n#setting NA in damage cols as 0\ntornado1$damage_property[is.na(tornado1$damage_property)] &lt;- \"0\"\ntornado1$damage_crops[is.na(tornado1$damage_crops)] &lt;- \"0\"\n\n#removing letters from damage cols and converting it into numeric \n#removing K, M, B from the entries in both cols\ntornado1$damage_property &lt;- sub(\"K$\", \"\", tornado1$damage_property)\ntornado1$damage_property &lt;- sub(\"M$\", \"\", tornado1$damage_property)\ntornado1$damage_property &lt;- sub(\"B$\", \"\", tornado1$damage_property)\ntornado1$damage_crops &lt;- sub(\"K$\", \"\", tornado1$damage_crops)\ntornado1$damage_crops &lt;- sub(\"M$\", \"\", tornado1$damage_crops)\ntornado1$damage_crops &lt;- sub(\"B$\", \"\", tornado1$damage_crops)\n\ntornado1$damage_property &lt;- as.numeric(tornado1$damage_property)\ntornado1$damage_crops &lt;- as.numeric(tornado1$damage_crops)\n\n\n# Step 4: Scale values based on suffix (e.g., K, M, B)\ntornado1$damage_property &lt;- ifelse(grepl(\"K$\", tornado1$damage_property), tornado1$damage_property * 1e3,\n                               ifelse(grepl(\"M$\", tornado1$damage_property), tornado1$damage_property * 1e6,\n                                      ifelse(grepl(\"B$\", tornado1$damage_property), tornado1$damage_property * 1e9, tornado1$damage_property)))\n\ntornado1$damage_crops &lt;- ifelse(grepl(\"K$\", tornado1$damage_crops), tornado1$damage_crops * 1e3,\n                            ifelse(grepl(\"M$\", tornado1$damage_crops), tornado1$damage_crops * 1e6,\n                                   ifelse(grepl(\"B$\", tornado1$damage_crops), tornado1$damage_crops * 1e9, tornado1$damage_crops)))\n\n#combining damage into one total damage variable:\ntornado1 &lt;- tornado1 %&gt;%\n  mutate(total_damage = damage_property + damage_crops)\n\n#managing f-scale variable:\n\n#Converting tor_f_scale to character to allow replacement\ntornado1$tor_f_scale &lt;- as.character(tornado1$tor_f_scale)\n\n#replacing NA values with EFU which is the \"Unknown\" scale \ntornado1$tor_f_scale[is.na(tornado1$tor_f_scale)] &lt;- \"EFU\"\n\n#converting to factor\ntornado1$tor_f_scale &lt;- as.factor(tornado1$tor_f_scale)\ntornado1$tor_f_scale&lt;-factor(tornado1$tor_f_scale,levels = c('EFU','EF0','EF1','EF2','EF3','EF4'))\n\n\n\nHypothesis Test - EF Scale Rating vs. Damage\n\nmodel_fs &lt;- suppressWarnings(aov(total_damage ~ tor_f_scale, data = tornado1))\nsummary(model_fs)\n\n              Df    Sum Sq   Mean Sq F value Pr(&gt;F)    \ntor_f_scale    5 1.731e+12 3.463e+11   21.43 &lt;2e-16 ***\nResiduals   1517 2.452e+13 1.616e+10                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\nHypothesis Testing - EF Scale Rating vs. Region\n\n#contingency table\ntable_region &lt;- table(tornado1$tor_f_scale, tornado1$region)\n\n#Chi-Square Test\nsuppressWarnings(chisq_test1 &lt;- chisq.test(table_region))\n#results\nchisq_test1\n\n\n    Pearson's Chi-squared test\n\ndata:  table_region\nX-squared = 287.29, df = 20, p-value &lt; 2.2e-16\n\n\n\n\nInteractive Damage Map\n\nleaflet(tornado1) %&gt;%\n  addTiles() %&gt;%\n  addCircleMarkers(\n    lng = ~begin_lon,\n    lat = ~begin_lat,\n    radius = 4,\n    color = \"red\",\n    popup = ~paste(\"Total Damage: $\", total_damage, \"&lt;br&gt;\", \"Tornado EF-Scale: \", tor_f_scale),\n    clusterOptions = markerClusterOptions()\n  )\n\n\n\n\n\n\n\nHeat Map\n\n#converting the table to a data frame \ntable_region_df &lt;- as.data.frame(as.table(table_region))\n\n# Create the heatmap\nggplot(table_region_df, aes(x = Var2, y = Var1, fill = Freq)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"lightblue\", high = \"blue\", name = \"Frequency\") +\n  labs(\n    title = \"Heat Map of Tornado EF-Scale by Region\",\n    x = \"Region\",\n    y = \"Tornado EF-Scale\",\n    caption = 'Figure 6'\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\n\n\nBar Plot\n\nggplot(table_region_df, aes(x = Var2, y = Freq, fill = Var1)) +\n  geom_bar(stat = \"identity\", position = \"dodge\",color = \"black\") + scale_fill_brewer(palette = \"YlOrRd\")+\n  theme_minimal() + \n  labs(\n    title = \"Frequency of Tornadoes by Region and EF-Scale\",\n    x = \"Region\",\n    y = \"Count of Tornadoes\",\n    fill = \"EF-Scale\",\n    caption = \"Figure 7\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n\nQuestion 2: Is there a relationship between tornado seasons and the resulting intensity?\n\nSeasonal Trends\n\ntornado$SEASON&lt;-factor(tornado$SEASON,levels = c('Spring','Summer','Fall','Winter'))\nggplot(tornado[order(tornado$TOR_F_SCALE,decreasing = F),], aes(x=SEASON, fill = TOR_F_SCALE))+\n  geom_bar(color = \"black\")+scale_fill_brewer(palette = \"YlOrRd\")+\n  labs(title = 'Tornado Intensity by Season',x='Season',y='Frequency',fill='EF Scale',caption = \"Figure 8\")\n\n\n\n\n\n\n\n\n\n\nHypothesis Testing - EF Scale Rating vs. Season\n\nhyp_table &lt;- table(tornado$SEASON,tornado$TOR_F_SCALE)\nhyp_table\n\n        \n         EFU EF0 EF1 EF2 EF3 EF4\n  Spring 100 197 224  76  28   2\n  Summer 144 192 172  35   8   0\n  Fall    15  44  18   3   0   0\n  Winter  12  82 110  54   7   0\n\nsuppressWarnings(chi_test &lt;- chisq.test(hyp_table))\nchi_test\n\n\n    Pearson's Chi-squared test\n\ndata:  hyp_table\nX-squared = 121.87, df = 15, p-value &lt; 2.2e-16\n\n\nHeat Map\n\n#converting the table to a data frame \nhyp_table_df &lt;- as.data.frame(as.table(hyp_table))\n\n# Create the heatmap\nggplot(hyp_table_df, aes(x = Var2, y = Var1, fill = Freq)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"lightblue\", high = \"blue\", name = \"Frequency\") +\n  labs(\n    title = \"Heat Map of Tornado EF-Scale by Season\",\n    x = \"Season\",\n    y = \"Tornado EF-Scale\",\n    caption = 'Figure 9'\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\nBar Plot\n\ntornado$SEASON&lt;-factor(tornado$SEASON,levels = c('Spring','Summer','Fall','Winter'))\nggplot(tornado, aes(x=TOR_F_SCALE, fill = SEASON))+\n  geom_bar(color = \"black\",position = 'dodge')+scale_fill_manual(values = c('pink','lightgreen','orange','lightblue'))+\n  labs(title = 'Tornado Intensity by Season',x='EF Scale Rating',y='Frequency',fill='Season',caption = \"Figure 8\")\n\n\n\n\n\n\n\n\n\n\nHypothesis Testing - Damage vs. Season\n\nlibrary(ggpubr)\nlibrary(broom)\nlibrary(AICcmodavg)\n\nWarning: package 'AICcmodavg' was built under R version 4.4.2\n\ntornado.consolidate &lt;- tornado\ntornado.consolidate$CASUALTIES &lt;- rowSums(tornado.consolidate[,c(\"DEATHS_DIRECT\",\"DEATHS_INDIRECT\",                                                       \"INJURIES_DIRECT\",\"INJURIES_INDIRECT\")])\ntornado.consolidate$DAMAGE_CROPS1 &lt;- as.numeric(tornado.consolidate$DAMAGE_CROPS1)\ntornado.consolidate$DAMAGE_PROPERTY1 &lt;- as.numeric(tornado.consolidate$DAMAGE_PROPERTY1)\n\nWarning: NAs introduced by coercion\n\ntornado.consolidate &lt;- tornado.consolidate %&gt;% mutate(DAMAGE_CROPS1 = ifelse(is.na(DAMAGE_CROPS1),0,DAMAGE_CROPS1))\ntornado.consolidate$DAMAGE &lt;- rowSums(tornado.consolidate[,c(\"DAMAGE_PROPERTY1\",\"DAMAGE_CROPS1\")])\none.way.dam &lt;- aov(DAMAGE~SEASON, data = tornado.consolidate)\nsummary(one.way.dam)\n\n              Df    Sum Sq   Mean Sq F value Pr(&gt;F)  \nSEASON         3 1.336e+11 4.454e+10   2.497 0.0582 .\nResiduals   1460 2.604e+13 1.784e+10                 \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n59 observations deleted due to missingness\n\n\n\n\nHypothesis Testing - Casualties vs. Season\n\none.way.cas &lt;- aov(CASUALTIES~SEASON, data = tornado.consolidate)\nsummary(one.way.cas)\n\n              Df Sum Sq Mean Sq F value Pr(&gt;F)\nSEASON         3    156   52.06   1.383  0.246\nResiduals   1519  57195   37.65               \n\n\n\n\n\nQuestion 3 - What factors predict the intensity and damage?\n\nData Preparation\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(caret)\n\nLoading required package: lattice\n\n\n\nAttaching package: 'caret'\n\n\nThe following object is masked from 'package:purrr':\n\n    lift\n\nlibrary(randomForest)\n\nrandomForest 4.7-1.2\n\n\nType rfNews() to see new features/changes/bug fixes.\n\n\n\nAttaching package: 'randomForest'\n\n\nThe following object is masked from 'package:AICcmodavg':\n\n    importance\n\n\nThe following object is masked from 'package:gridExtra':\n\n    combine\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n\nThe following object is masked from 'package:ggplot2':\n\n    margin\n\nlibrary(corrplot)\n\ncorrplot 0.95 loaded\n\nlibrary(ROSE) # For balancing the dataset\n\nWarning: package 'ROSE' was built under R version 4.4.2\n\n\nLoaded ROSE 0.0-4\n\nlibrary(leaflet) # For interactive geospatial analysis\nlibrary(xgboost) # For Gradient Boosting\n\nWarning: package 'xgboost' was built under R version 4.4.2\n\n\n\nAttaching package: 'xgboost'\n\n\nThe following object is masked from 'package:dplyr':\n\n    slice\n\n# Load the dataset\nfile_path &lt;- \"filtered_tornado_events.csv\"\ntornado_data &lt;- read.csv(file_path)\n\n# Understand the dataset structure\nstr(tornado_data)\n\n'data.frame':   1523 obs. of  55 variables:\n $ BEGIN_YEARMONTH   : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ BEGIN_DAY         : int  5 7 17 3 12 27 27 10 26 31 ...\n $ BEGIN_TIME        : int  1630 1908 2024 1633 528 1710 1738 1445 1350 1813 ...\n $ END_YEARMONTH     : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ END_DAY           : int  5 7 17 3 12 27 27 10 26 31 ...\n $ END_TIME          : int  1631 1908 2025 1634 530 1712 1742 1500 1351 1821 ...\n $ DURATION1         : int  1 0 1 1 2 2 4 55 1 8 ...\n $ EPISODE_ID        : int  186989 180080 181327 177319 182436 180889 180889 184350 183275 178474 ...\n $ EVENT_ID          : int  1147720 1097121 1132462 1078130 1114268 1101514 1101515 1128542 1144388 1085817 ...\n $ STATE             : chr  \"ILLINOIS\" \"IOWA\" \"OKLAHOMA\" \"ILLINOIS\" ...\n $ REGION            : chr  \"MIDWEST\" \"MIDWEST\" \"SOUTHWEST\" \"MIDWEST\" ...\n $ STATE_FIPS        : int  17 19 40 17 19 35 35 53 26 17 ...\n $ YEAR              : int  2023 2023 2023 2023 2023 2023 2023 2023 2023 2023 ...\n $ MONTH_NAME        : chr  \"August\" \"May\" \"June\" \"January\" ...\n $ SEASON            : chr  \"Summer\" \"Spring\" \"Summer\" \"Winter\" ...\n $ EVENT_TYPE        : chr  \"Tornado\" \"Tornado\" \"Tornado\" \"Tornado\" ...\n $ CZ_TYPE           : chr  \"C\" \"C\" \"C\" \"C\" ...\n $ CZ_FIPS           : int  79 71 3 115 155 25 25 43 93 103 ...\n $ CZ_NAME           : chr  \"JASPER\" \"FREMONT\" \"ALFALFA\" \"MACON\" ...\n $ WFO               : chr  \"ILX\" \"OAX\" \"OUN\" \"ILX\" ...\n $ BEGIN_DATE_TIME   : chr  \"8/5/23 16:30\" \"5/7/23 19:08\" \"6/17/23 20:24\" \"1/3/23 16:33\" ...\n $ CZ_TIMEZONE       : chr  \"CST-6\" \"CST-6\" \"CST-6\" \"CST-6\" ...\n $ END_DATE_TIME     : chr  \"8/5/23 16:31\" \"5/7/23 19:08\" \"6/17/23 20:25\" \"1/3/23 16:34\" ...\n $ DURATION          : chr  \"0:01:00\" \"0:00:00\" \"0:01:00\" \"0:01:00\" ...\n $ INJURIES_DIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ INJURIES_INDIRECT : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_DIRECT     : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_INDIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DAMAGE_PROPERTY   : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ DAMAGE_CROPS      : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ SOURCE            : chr  \"Broadcast Media\" \"Public\" \"NWS Storm Survey\" \"Trained Spotter\" ...\n $ MAGNITUDE         : logi  NA NA NA NA NA NA ...\n $ MAGNITUDE_TYPE    : logi  NA NA NA NA NA NA ...\n $ FLOOD_CAUSE       : logi  NA NA NA NA NA NA ...\n $ CATEGORY          : logi  NA NA NA NA NA NA ...\n $ TOR_F_SCALE       : chr  \"EFU\" \"EFU\" \"EFU\" \"EF0\" ...\n $ TOR_LENGTH        : num  0.11 0.05 1.5 0.32 1.51 1 3.5 0.9 0.37 7.75 ...\n $ TOR_WIDTH         : num  20 50 30 25 40 50 50 40 75 75 ...\n $ TOR_OTHER_WFO     : chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_STATE: chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_FIPS : num  NA NA NA NA NA NA NA NA NA NA ...\n $ TOR_OTHER_CZ_NAME : chr  \"\" \"\" \"\" \"\" ...\n $ BEGIN_RANGE       : num  3 1 1 4 2 8 11 3 2 1 ...\n $ BEGIN_AZIMUTH     : chr  \"ENE\" \"WNW\" \"N\" \"WSW\" ...\n $ BEGIN_LOCATION    : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ END_RANGE         : num  3 1 2 3 3 9 12 2 2 1 ...\n $ END_AZIMUTH       : chr  \"ENE\" \"WNW\" \"NE\" \"WSW\" ...\n $ END_LOCATION      : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ BEGIN_LAT         : num  39 40.7 36.9 40 41.4 ...\n $ BEGIN_LON         : num  -88 -95.8 -98.4 -89 -95.4 ...\n $ END_LAT           : num  39 40.7 36.9 40 41.4 ...\n $ END_LON           : num  -88 -95.8 -98.4 -89 -95.3 ...\n $ EPISODE_NARRATIVE : chr  \"A cold front triggered a broken line of strong to severe thunderstorms across southeast Illinois during the lat\"| __truncated__ \"An Enhanced Risk was issued for severe weather on May 7. A shortwave moving across the area interacted with a c\"| __truncated__ \"Another unseasonably strong upper trough approached the region during the day on the 17th. Widespread thunderst\"| __truncated__ \"An area of low pressure tracking northeastward across Iowa pushed a cold front into central Illinois during the\"| __truncated__ ...\n $ EVENT_NARRATIVE   : chr  \"A tornado briefly touched down in an open field just south of Mound Church about 3 miles northeast of Willow Hi\"| __truncated__ \"Public sent a video of a brief tornado kicking up a bit of dust resulting in no damage.\" \"A tornado developed and produced a Tornadic Debris Signature (TDS) on the KVNX radar north of Burlington. The t\"| __truncated__ \"A tornado briefly touched down 3 miles southwest of Maroa along Bearsdale Road just north of School Road at 4:3\"| __truncated__ ...\n $ DATA_SOURCE       : chr  \"CSV\" \"CSV\" \"CSV\" \"CSV\" ...\n\n# Preprocessing: Select relevant columns for analysis\ntornado_data_clean &lt;- tornado_data %&gt;%\n  select(BEGIN_YEARMONTH, BEGIN_DAY, BEGIN_TIME, DURATION1, STATE, INJURIES_DIRECT,\n         INJURIES_INDIRECT, DEATHS_DIRECT, DEATHS_INDIRECT, DAMAGE_PROPERTY, DAMAGE_CROPS,\n         TOR_F_SCALE, TOR_LENGTH, TOR_WIDTH, BEGIN_LAT, BEGIN_LON, END_LAT, END_LON, SEASON, REGION) %&gt;%\n  mutate(\n    DAMAGE_PROPERTY = as.numeric(gsub(\"[^0-9]\", \"\", DAMAGE_PROPERTY)), # Remove non-numeric chars\n    DAMAGE_CROPS = as.numeric(gsub(\"[^0-9]\", \"\", DAMAGE_CROPS)),       # Remove non-numeric chars\n    TOTAL_DAMAGE = DAMAGE_PROPERTY + DAMAGE_CROPS,                      # Compute total damage\n    LOG_TOTAL_DAMAGE = log1p(TOTAL_DAMAGE),                              # Log-transform to reduce skewness,\n    INTENSITY = case_when(\n      TOR_F_SCALE == \"EF0\" ~ 0,\n      TOR_F_SCALE == \"EF1\" ~ 1,\n      TOR_F_SCALE == \"EF2\" ~ 2,\n      TOR_F_SCALE == \"EF3\" ~ 3,\n      TOR_F_SCALE == \"EF4\" ~ 4,\n      TOR_F_SCALE == \"EF5\" ~ 5,\n      TRUE ~ NA_real_ # Handle unknown scales\n    )\n  )\n\n# Handle missing values: Replace NAs with mean for numeric columns\ntornado_data_clean &lt;- tornado_data_clean %&gt;%\n  mutate(across(where(is.numeric), ~ ifelse(is.na(.), mean(., na.rm = TRUE), .)))\n\n# Feature Engineering: Add binary impact indicator (e.g., high damage) and interaction terms\ntornado_data_clean &lt;- tornado_data_clean %&gt;%\n  mutate(\n    HIGH_DAMAGE = ifelse(TOTAL_DAMAGE &gt; median(TOTAL_DAMAGE, na.rm = TRUE), 1, 0),\n    TOR_AREA = TOR_LENGTH * TOR_WIDTH\n  )\n\n\n\nHeat Map\n\n# 6. Damage Heatmap by Location with Modifications\nleaflet(tornado_data_clean) %&gt;%\n  addTiles() %&gt;%\n  addCircles(\n    lat = ~BEGIN_LAT, lng = ~BEGIN_LON,\n    radius = ~sqrt(TOTAL_DAMAGE) * 10, # Scale circle size by damage\n    popup = ~paste(\n      \"Total Damage: $\", TOTAL_DAMAGE, \"&lt;br&gt;\",\n      \"Intensity: \", INTENSITY, \"&lt;br&gt;\",\n      \"Season: \", SEASON\n    ),\n    color = ~case_when(\n      SEASON == \"Spring\" ~ \"green\",\n      SEASON == \"Summer\" ~ \"yellow\",\n      SEASON == \"Fall\" ~ \"orange\",\n      SEASON == \"Winter\" ~ \"blue\"\n    ),\n    fillOpacity = 0.5\n  ) %&gt;%\n  addLegend(\n    \"bottomright\",\n    colors = c(\"green\", \"yellow\", \"orange\", \"blue\"),\n    labels = c(\"Spring\", \"Summer\", \"Fall\", \"Winter\"),\n    title = \"Season\"\n  )\n\n\n\n\n\n\n\nClass Balancing\n\n# Ensure HIGH_DAMAGE is a factor\ntornado_data_clean$HIGH_DAMAGE &lt;- as.factor(tornado_data_clean$HIGH_DAMAGE)\n\n# Handle class imbalance with oversampling\nbalanced_data &lt;- ovun.sample(HIGH_DAMAGE ~ ., data = tornado_data_clean, method = \"over\",\n                             N = 2 * max(table(tornado_data_clean$HIGH_DAMAGE)))$data\n\n# Split balanced dataset into training and testing sets\nset.seed(123)\ntrain_index &lt;- createDataPartition(balanced_data$HIGH_DAMAGE, p = 0.8, list = FALSE)\ntrain_data &lt;- balanced_data[train_index, ]\ntest_data &lt;- balanced_data[-train_index, ]\n\n# Ensure HIGH_DAMAGE is a factor in train and test data\ntrain_data$HIGH_DAMAGE &lt;- as.factor(train_data$HIGH_DAMAGE)\ntest_data$HIGH_DAMAGE &lt;- as.factor(test_data$HIGH_DAMAGE)\n\n\n\nDamage Prediction (Regression)\n\n# Gradient Boosting Model with Hyperparameter Tuning\npredictors &lt;- c(\"BEGIN_YEARMONTH\", \"BEGIN_DAY\", \"BEGIN_TIME\", \"DURATION1\", \"BEGIN_LAT\", \"BEGIN_LON\",\n                \"END_LAT\", \"END_LON\", \"TOR_LENGTH\", \"TOR_WIDTH\", \"TOR_AREA\")\nxgb_tuned_model &lt;- xgboost(\n  data = xgb.DMatrix(data = as.matrix(tornado_data_clean[, predictors]), label = tornado_data_clean$TOTAL_DAMAGE),\n  max_depth = 8,        # Increased depth for capturing more complex interactions\n  eta = 0.05,           # Lower learning rate for better convergence\n  nrounds = 300,        # Increased iterations\n  subsample = 0.8,      # Use a fraction of the data per boosting round\n  colsample_bytree = 0.8, # Use a fraction of features\n  verbose = 0\n)\n\nxgb_tuned_predictions &lt;- predict(xgb_tuned_model, xgb.DMatrix(data = as.matrix(tornado_data_clean[, predictors])))\nxgb_tuned_rmse &lt;- sqrt(mean((xgb_tuned_predictions - tornado_data_clean$TOTAL_DAMAGE)^2))\ncat(\"Tuned XGBoost RMSE:\", round(xgb_tuned_rmse, 2), \"\\n\")\n\nTuned XGBoost RMSE: 759.06 \n\n# Evaluate RMSE as a Percentage of Mean TOTAL_DAMAGE for XGBoost\nmean_total_damage &lt;- mean(tornado_data_clean$TOTAL_DAMAGE, na.rm = TRUE)\nrmse_percentage_xgb &lt;- (xgb_tuned_rmse / mean_total_damage) * 100\ncat(\"Tuned XGBoost RMSE as percentage of mean TOTAL_DAMAGE:\", round(rmse_percentage_xgb, 2), \"%\\n\")\n\nTuned XGBoost RMSE as percentage of mean TOTAL_DAMAGE: 15.41 %\n\n\n\n\nHigh Damage Classification\n\n# Train XGBoost Classification Model\ntrain_matrix &lt;- xgb.DMatrix(data = as.matrix(train_data[, predictors]), label = as.numeric(train_data$HIGH_DAMAGE) - 1)\ntest_matrix &lt;- xgb.DMatrix(data = as.matrix(test_data[, predictors]), label = as.numeric(test_data$HIGH_DAMAGE) - 1)\n\nxgb_class_model &lt;- xgboost(\n  data = train_matrix,\n  max_depth = 6,             # Tree depth\n  eta = 0.1,                 # Learning rate\n  nrounds = 100,             # Number of boosting rounds\n  objective = \"binary:logistic\",  # Binary classification\n  eval_metric = \"error\",     # Evaluation metric\n  verbose = 0                # Silence training logs\n)\n\n# Predict probabilities for the test data\nxgb_class_predictions &lt;- predict(xgb_class_model, test_matrix)\n\n# Convert probabilities to binary labels\nxgb_class_labels &lt;- ifelse(xgb_class_predictions &gt; 0.5, 1, 0)\n\n\n\n# Confusion Matrix and Statistics\nconf_matrix &lt;- confusionMatrix(\n  as.factor(xgb_class_labels),\n  as.factor(as.numeric(test_data$HIGH_DAMAGE) - 1),\n  positive = \"1\"\n)\n\nprint(conf_matrix)\n\nConfusion Matrix and Statistics\n\n          Reference\nPrediction   0   1\n         0 122  24\n         1  33 131\n                                          \n               Accuracy : 0.8161          \n                 95% CI : (0.7684, 0.8577)\n    No Information Rate : 0.5             \n    P-Value [Acc &gt; NIR] : &lt;2e-16          \n                                          \n                  Kappa : 0.6323          \n                                          \n Mcnemar's Test P-Value : 0.2893          \n                                          \n            Sensitivity : 0.8452          \n            Specificity : 0.7871          \n         Pos Pred Value : 0.7988          \n         Neg Pred Value : 0.8356          \n             Prevalence : 0.5000          \n         Detection Rate : 0.4226          \n   Detection Prevalence : 0.5290          \n      Balanced Accuracy : 0.8161          \n                                          \n       'Positive' Class : 1               \n                                          \n\n\n\n\nFeature Importance and Correlation Analysis\n\n# Feature Importance\nimportance &lt;- xgb.importance(model = xgb_class_model)\nxgb.plot.importance(importance, top_n = 10, main = \"Feature Importance (XGBoost)\")\n\n\n\n\n\n\n\n# Correlation Plot for Predictors\ncorr_matrix &lt;- cor(tornado_data_clean[, predictors])\ncorrplot(corr_matrix, method = \"color\", tl.cex = 0.8, title = \"Correlation Plot of Predictors\")\n\n\n\n\n\n\n\n\nUser-Input-Based Prediction\n\n\nPredicted Total Damage ($): 6773.44"
  },
  {
    "objectID": "Main.html",
    "href": "Main.html",
    "title": "Predicting the Damage of Tornadoes",
    "section": "",
    "text": "The National Oceanic and Atmospheric Administration (NOAA) National Centers for Environmental Information (NCEI) publishes an annual report of storm events in the United States. It records storm occurrences and other weather phenomena intense enough to result in deaths, injuries, significant property damage, or other economic disruption. It also records unusual weather and meteorological events that occur in connection with significant storms. NOAA Storm Events Database\n\n\nThis analysis will focus on tornado events in the United States in 2023.\n\nFigure 1: Variable Descriptions\n\n\n\n\n\n\n\n\nVariable\nVariable Type\nDescription\nUnits\n\n\n\n\nDURATION\nInteger, continuous\nTornado event duration\nMinutes\n\n\nSEASON\nFactor\nSpring, Summer, Fall, Winter\nN/A\n\n\nBEGIN_YEARMONTH\nInteger, discrete\nYear and month of tornado event\nN/A\n\n\nBEGIN_DAY\nInteger, discrete\nDay of the tornado event\nN/A\n\n\nBEGIN_TIME\nInteger, discrete\nTime of the tornado event\n24-hour format\n\n\nREGION\nFactor\nNortheast, Southeast, Midwest, Southwest, West\nN/A\n\n\nBEGIN_LAT\nInterval, continuous\nStarting latitude of tornado\nN/A\n\n\nBEGIN_LONG\nInterval, continuous\nStarting longitude of tornado\nN/A\n\n\nEND_LAT\nInterval, continuous\nEnding latitude of tornado\nN/A\n\n\nEND_LONG\nInterval, continuous\nEnding longitude of tornado\nN/A\n\n\nTOR_F_SCALE\nFactor\nTornado intensity\nEnhanced Fujita Scale\n\n\nTOR_LENGTH\nInterval, continuous\nLength of tornado while on the ground\nMiles\n\n\nTOR_WIDTH\nInterval, continuous\nWidth of tornado while on the ground\nYards\n\n\nTOR_AREA\nInterval, continuous\nProduct of TOR_WIDTH and TOR_LENGTH\nSquare Yards\n\n\nDAMAGE\nInteger, continuous\nTotal amount of resulting property and commercial damage\n$\n\n\nHIGH_DAMAGE\nFactor, binary\n\nN/A\n\n\nCASUALTIES\nInteger, continuous\nTotal number of direct and indirect resulting injuries and deaths\nN/A\n\n\n\nStorm Events Variable Descriptions\n\n\n\nThe Enhanced Fujita Scale, or EF Scale, is used to categorize a tornado based on estimated winds speeds and the resulting damage. The National Weather Service is the authority that assigns the tornado EF Scale category based on the highest wind speeds and degrees of damage (Figure 2).\n\n\n\nFigure 2: EF Scale Wind Speeds\n\n\n*Of note, not pictured in the above chart is the classification “EFU.” EFU is short for EF-Unknown for tornadoes that could not be rated due to lack of damage evidence. EF Scale"
  },
  {
    "objectID": "Main.html#storm-events-database",
    "href": "Main.html#storm-events-database",
    "title": "Predicting the Damage of Tornadoes",
    "section": "",
    "text": "The National Oceanic and Atmospheric Administration (NOAA) National Centers for Environmental Information (NCEI) publishes an annual report of storm events in the United States. It records storm occurrences and other weather phenomena intense enough to result in deaths, injuries, significant property damage, or other economic disruption. It also records unusual weather and meteorological events that occur in connection with significant storms. NOAA Storm Events Database\n\n\nThis analysis will focus on tornado events in the United States in 2023.\n\nFigure 1: Variable Descriptions\n\n\n\n\n\n\n\n\nVariable\nVariable Type\nDescription\nUnits\n\n\n\n\nDURATION\nInteger, continuous\nTornado event duration\nMinutes\n\n\nSEASON\nFactor\nSpring, Summer, Fall, Winter\nN/A\n\n\nBEGIN_YEARMONTH\nInteger, discrete\nYear and month of tornado event\nN/A\n\n\nBEGIN_DAY\nInteger, discrete\nDay of the tornado event\nN/A\n\n\nBEGIN_TIME\nInteger, discrete\nTime of the tornado event\n24-hour format\n\n\nREGION\nFactor\nNortheast, Southeast, Midwest, Southwest, West\nN/A\n\n\nBEGIN_LAT\nInterval, continuous\nStarting latitude of tornado\nN/A\n\n\nBEGIN_LONG\nInterval, continuous\nStarting longitude of tornado\nN/A\n\n\nEND_LAT\nInterval, continuous\nEnding latitude of tornado\nN/A\n\n\nEND_LONG\nInterval, continuous\nEnding longitude of tornado\nN/A\n\n\nTOR_F_SCALE\nFactor\nTornado intensity\nEnhanced Fujita Scale\n\n\nTOR_LENGTH\nInterval, continuous\nLength of tornado while on the ground\nMiles\n\n\nTOR_WIDTH\nInterval, continuous\nWidth of tornado while on the ground\nYards\n\n\nTOR_AREA\nInterval, continuous\nProduct of TOR_WIDTH and TOR_LENGTH\nSquare Yards\n\n\nDAMAGE\nInteger, continuous\nTotal amount of resulting property and commercial damage\n$\n\n\nHIGH_DAMAGE\nFactor, binary\n\nN/A\n\n\nCASUALTIES\nInteger, continuous\nTotal number of direct and indirect resulting injuries and deaths\nN/A\n\n\n\nStorm Events Variable Descriptions\n\n\n\nThe Enhanced Fujita Scale, or EF Scale, is used to categorize a tornado based on estimated winds speeds and the resulting damage. The National Weather Service is the authority that assigns the tornado EF Scale category based on the highest wind speeds and degrees of damage (Figure 2).\n\n\n\nFigure 2: EF Scale Wind Speeds\n\n\n*Of note, not pictured in the above chart is the classification “EFU.” EFU is short for EF-Unknown for tornadoes that could not be rated due to lack of damage evidence. EF Scale"
  },
  {
    "objectID": "Main.html#data-exploration---trends",
    "href": "Main.html#data-exploration---trends",
    "title": "Predicting the Damage of Tornadoes",
    "section": "Data Exploration - Trends",
    "text": "Data Exploration - Trends\nDuring data exploration, a few data trends became apparent and helped lead us to establishing our research question. As described above, tornadoes are classified by wind speeds and the degree of resulting damage.\n\nTornado Dimensions\nFigure 3 is a scatter plot of tornado dimensions, length and width, categorized by tornado classification. Not surprisingly, larger tornadoes tended to merit a higher EF Scale rating. Figure 4 is a plot of tornado width and duration categorized by tornado classification. Not surprisingly, tornadoes with a wider path and a longer duration tended to merit a higher EF Scale rating.\n\n\n\n\n\n\n\n\n\nWhile an examination of tornado dimensions helps to inform understanding of the nature of tornadoes and the EF Scale, it doesn’t help to identify at-risk communities to help them prepare for the impact of severe storms. We next explored trends by region and season for patterns that could help identify at-risk areas.\n\n\nRegion and Season\n“Tornado season” varies by region based on climate factors. Tornadoes are most prevalent in the Midwest and Southeast United States, although they’ve been recorded in all 50 states and some territories. In Figure 5 below, “OCONUS” is short for “outside the continental United States” and includes Alaska, Hawaii, and US territories. You can see below that winter tornadoes occur mostly in the Southeast United States due to the warmer climate."
  },
  {
    "objectID": "Main.html#research-questions-methods-and-results",
    "href": "Main.html#research-questions-methods-and-results",
    "title": "Predicting the Damage of Tornadoes",
    "section": "Research Questions, Methods, and Results",
    "text": "Research Questions, Methods, and Results\nBased on our data exploration, we settled on four research questions:\n\nIs there a relationship between tornado regions and the resulting intensity?\nIs there a relationship between tornado seasons and the resulting intensity?\nWhat factors predict the intensity and damage?\n\n\n1. Is there a relationship between tornado regions and the resulting intensity?\n\nData Exploration\nFirst, we performed ANOVA testing to confirm that there is a difference on damage based on f-scale. The null hypothesis of this test states that the mean total damage is the same across all f-scale levels, while the alternate hypothesis states that mean total damage is not the same across all f-scale levels.\n\n\n              Df    Sum Sq   Mean Sq F value Pr(&gt;F)    \ntor_f_scale    5 1.731e+12 3.463e+11   21.43 &lt;2e-16 ***\nResiduals   1517 2.452e+13 1.616e+10                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\nThe results showed a p-value(&lt;2e-16) less than the significance level(0.05), we were able to reject the null hypothesis, and conclude that the total damage is different among different f-scale levels. Therefore, that f-scale indeed has an effect on the total damage caused by the tornado, and we can say that more damage is associated with higher f-scales.\n\n\nMethods\nTo test if there is a significant relationship between the tornado region and the total damage, a chi-squared test was performed. The The null hypothesis of this test stated that the region does not affect the intensity of the tornado (f-scale) and that the two variables are independent of each other. Meanwhile, the alternate hypothesis stated that the two variables are dependent, meaning there is a relationship between tornado F-scale and region.\n\n\n\n    Pearson's Chi-squared test\n\ndata:  table_region\nX-squared = 287.29, df = 20, p-value &lt; 2.2e-16\n\n\nSince the p-value was &lt;2.2e-16 which is lower than the significance level 0.05, we were able to reject the null hypothesis. In addition, the x-squared value was 287.29 suggesting a strong relationship between the two variables. This means that the region does have an effect on the f-scale of the tornado, suggesting that some regions are at more risks than others.\nIn addition, an interactive map was created to show the distribution of tornadoes and their locations in the United States as well as their associated total damage and f-scale.\n\n\n\n\n\n\nFrom the map, we can see that the most common location for tornadoes was southeast region of the United States of America, with a count of 326 tornadoes.\nNext, a heat map was created to show the frequency of tornadoes in different regions of the United States based on their f-scale (Figure 6). The darker blue colors represent more frequent occurrences in the region while lighter green and blue represent lower or even no occurrences at all.\n\n\n\n\n\n\n\n\n\nAs shown in the graph, tornadoes with EF0 were most frequent in the Midwest, while tornadoes with a level of EF1 were occurring more frequently in the southeastern part of the United States. Moreover, we can see that the northeastern and western regions experienced the least amount of tornadoes of all levels.\nAnother way to visualize the frequency of tornadoes in regions and their intensity was through a grouped bar graph as shown in Figure 7.\n\n\n\n\n\n\n\n\n\nThe bar chart confirms that the highest count of tornadoes was in the southeastern region of the States, while the least amount of tornadoes occurred in west of America. Particularly, the least amount of tornadoes was the EF4 scale in the west region. On the other hand,the most common tornadoes were the EF1 scale tornadoes in the southeastern region, putting the southeastern region at more risks.\n\n\nResults and Discussion\nFirst, the analysis confirmed that tornado intensity (EF-scale) has a significant impact on total damage, with higher-intensity tornadoes generally causing more destruction. The Chi-Square test showed a strong relationship between tornado region and F-scale, revealing that certain regions are more likely to experience specific tornado intensities. Moreover, both the heat map and bar chart highlighted that the southeastern region had the highest frequency of tornadoes, particularly EF1 scale, putting this region at greater risk. In contrast, the west region experienced the fewest tornadoes, especially at higher intensities like EF4.\n\n\n\n2. Is there a relationship between tornado seasons and the resulting intensity?\n\nData Exploration\nA preliminary examination of the data shows that tornadoes occur most frequently in the spring and summer months (Figure 8).\n\n\n\n\n\n\n\n\n\n\n\nMethods\nTo explore the relationship between the season and EF Scale rating, we first used chi squared tests to determine if a relationship existed. The null hypothesis was that there was no relationship, and the alternate hypothesis that a relationship did exist between the season and EF Scale rating.\nThe chi squared test yielded a p-value less than 0.05, so we reject the null hypothesis.\n\n\n        \n         EFU EF0 EF1 EF2 EF3 EF4\n  Spring 100 197 224  76  28   2\n  Summer 144 192 172  35   8   0\n  Fall    15  44  18   3   0   0\n  Winter  12  82 110  54   7   0\n\n\n\n    Pearson's Chi-squared test\n\ndata:  hyp_table\nX-squared = 121.87, df = 15, p-value &lt; 2.2e-16\n\n\nUsing a heat map to visualize the relationship, Figure 9 shows that tornadoes occur most frequently in the spring and summer months across all EF-Scale ratings except EF2 which showed a slight uptick in the winter.\n\n#converting the table to a data frame \nhyp_table_df &lt;- as.data.frame(as.table(hyp_table))\n\n# Create the heatmap\nggplot(hyp_table_df, aes(x = Var2, y = Var1, fill = Freq)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"lightblue\", high = \"blue\", name = \"Frequency\") +\n  labs(\n    title = \"Heat Map of Tornado EF-Scale by Season\",\n    x = \"Season\",\n    y = \"Tornado EF-Scale\",\n    caption = 'Figure 9'\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\nOr, depicted differently, Figure 10 shows a the difference in the frequency of EF2 tornadoes during the winter months more clearly.\n\n\n\n\n\n\n\n\n\nNext we explored the relationship between two other measures of tornado effects: total damage in $ and total casualties, or the total number of people injured or killed during a tornado. Since these outcome variables are quantitative numeric variables, we used ANOVA testing. The null hypothesis was that there was no relationship, and the alternate hypothesis that a relationship did exist.\n\n\n              Df    Sum Sq   Mean Sq F value Pr(&gt;F)  \nSEASON         3 1.336e+11 4.454e+10   2.497 0.0582 .\nResiduals   1460 2.604e+13 1.784e+10                 \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n59 observations deleted due to missingness\n\n\nANOVA testing of the season and total damage variables yielded a p-value of greater than 0.05 but less than 0.1. In other words, there is weak evidence that the total damage of a hurricane is affected by the season.\n\n\n              Df Sum Sq Mean Sq F value Pr(&gt;F)\nSEASON         3    156   52.06   1.383  0.246\nResiduals   1519  57195   37.65               \n\n\nANOVA testing of the season and casualties variables yielded a p-value of greater than 0.1, so we fail to reject the null hypothesis and conclude that there is no relationship between the variables.\n\n\nResults\nFrom hypothesis testing, we conclude that there is a significant relationship between the predictor variable season and the outcome variable EF Scale rating. Hypothesis testing also indicates a weak relationship between the predictor variable season and the outcome variable total damage, however there is not a relationship to the outcome variable casualties.\n\n\n\n3. What factors predict the intensity and damage?\nHaving examined these relationships, is it possible to model tornado intensity and damage?\n\nData Exploration\n\n\nLoading required package: lattice\n\n\n\nAttaching package: 'caret'\n\n\nThe following object is masked from 'package:purrr':\n\n    lift\n\n\nrandomForest 4.7-1.2\n\n\nType rfNews() to see new features/changes/bug fixes.\n\n\n\nAttaching package: 'randomForest'\n\n\nThe following object is masked from 'package:AICcmodavg':\n\n    importance\n\n\nThe following object is masked from 'package:gridExtra':\n\n    combine\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n\nThe following object is masked from 'package:ggplot2':\n\n    margin\n\n\ncorrplot 0.95 loaded\n\n\nWarning: package 'ROSE' was built under R version 4.4.2\n\n\nLoaded ROSE 0.0-4\n\n\nWarning: package 'xgboost' was built under R version 4.4.2\n\n\n\nAttaching package: 'xgboost'\n\n\nThe following object is masked from 'package:dplyr':\n\n    slice\n\n\n'data.frame':   1523 obs. of  55 variables:\n $ BEGIN_YEARMONTH   : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ BEGIN_DAY         : int  5 7 17 3 12 27 27 10 26 31 ...\n $ BEGIN_TIME        : int  1630 1908 2024 1633 528 1710 1738 1445 1350 1813 ...\n $ END_YEARMONTH     : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ END_DAY           : int  5 7 17 3 12 27 27 10 26 31 ...\n $ END_TIME          : int  1631 1908 2025 1634 530 1712 1742 1500 1351 1821 ...\n $ DURATION1         : int  1 0 1 1 2 2 4 55 1 8 ...\n $ EPISODE_ID        : int  186989 180080 181327 177319 182436 180889 180889 184350 183275 178474 ...\n $ EVENT_ID          : int  1147720 1097121 1132462 1078130 1114268 1101514 1101515 1128542 1144388 1085817 ...\n $ STATE             : chr  \"ILLINOIS\" \"IOWA\" \"OKLAHOMA\" \"ILLINOIS\" ...\n $ REGION            : chr  \"MIDWEST\" \"MIDWEST\" \"SOUTHWEST\" \"MIDWEST\" ...\n $ STATE_FIPS        : int  17 19 40 17 19 35 35 53 26 17 ...\n $ YEAR              : int  2023 2023 2023 2023 2023 2023 2023 2023 2023 2023 ...\n $ MONTH_NAME        : chr  \"August\" \"May\" \"June\" \"January\" ...\n $ SEASON            : chr  \"Summer\" \"Spring\" \"Summer\" \"Winter\" ...\n $ EVENT_TYPE        : chr  \"Tornado\" \"Tornado\" \"Tornado\" \"Tornado\" ...\n $ CZ_TYPE           : chr  \"C\" \"C\" \"C\" \"C\" ...\n $ CZ_FIPS           : int  79 71 3 115 155 25 25 43 93 103 ...\n $ CZ_NAME           : chr  \"JASPER\" \"FREMONT\" \"ALFALFA\" \"MACON\" ...\n $ WFO               : chr  \"ILX\" \"OAX\" \"OUN\" \"ILX\" ...\n $ BEGIN_DATE_TIME   : chr  \"8/5/23 16:30\" \"5/7/23 19:08\" \"6/17/23 20:24\" \"1/3/23 16:33\" ...\n $ CZ_TIMEZONE       : chr  \"CST-6\" \"CST-6\" \"CST-6\" \"CST-6\" ...\n $ END_DATE_TIME     : chr  \"8/5/23 16:31\" \"5/7/23 19:08\" \"6/17/23 20:25\" \"1/3/23 16:34\" ...\n $ DURATION          : chr  \"0:01:00\" \"0:00:00\" \"0:01:00\" \"0:01:00\" ...\n $ INJURIES_DIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ INJURIES_INDIRECT : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_DIRECT     : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_INDIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DAMAGE_PROPERTY   : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ DAMAGE_CROPS      : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ SOURCE            : chr  \"Broadcast Media\" \"Public\" \"NWS Storm Survey\" \"Trained Spotter\" ...\n $ MAGNITUDE         : logi  NA NA NA NA NA NA ...\n $ MAGNITUDE_TYPE    : logi  NA NA NA NA NA NA ...\n $ FLOOD_CAUSE       : logi  NA NA NA NA NA NA ...\n $ CATEGORY          : logi  NA NA NA NA NA NA ...\n $ TOR_F_SCALE       : chr  \"EFU\" \"EFU\" \"EFU\" \"EF0\" ...\n $ TOR_LENGTH        : num  0.11 0.05 1.5 0.32 1.51 1 3.5 0.9 0.37 7.75 ...\n $ TOR_WIDTH         : num  20 50 30 25 40 50 50 40 75 75 ...\n $ TOR_OTHER_WFO     : chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_STATE: chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_FIPS : num  NA NA NA NA NA NA NA NA NA NA ...\n $ TOR_OTHER_CZ_NAME : chr  \"\" \"\" \"\" \"\" ...\n $ BEGIN_RANGE       : num  3 1 1 4 2 8 11 3 2 1 ...\n $ BEGIN_AZIMUTH     : chr  \"ENE\" \"WNW\" \"N\" \"WSW\" ...\n $ BEGIN_LOCATION    : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ END_RANGE         : num  3 1 2 3 3 9 12 2 2 1 ...\n $ END_AZIMUTH       : chr  \"ENE\" \"WNW\" \"NE\" \"WSW\" ...\n $ END_LOCATION      : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ BEGIN_LAT         : num  39 40.7 36.9 40 41.4 ...\n $ BEGIN_LON         : num  -88 -95.8 -98.4 -89 -95.4 ...\n $ END_LAT           : num  39 40.7 36.9 40 41.4 ...\n $ END_LON           : num  -88 -95.8 -98.4 -89 -95.3 ...\n $ EPISODE_NARRATIVE : chr  \"A cold front triggered a broken line of strong to severe thunderstorms across southeast Illinois during the lat\"| __truncated__ \"An Enhanced Risk was issued for severe weather on May 7. A shortwave moving across the area interacted with a c\"| __truncated__ \"Another unseasonably strong upper trough approached the region during the day on the 17th. Widespread thunderst\"| __truncated__ \"An area of low pressure tracking northeastward across Iowa pushed a cold front into central Illinois during the\"| __truncated__ ...\n $ EVENT_NARRATIVE   : chr  \"A tornado briefly touched down in an open field just south of Mound Church about 3 miles northeast of Willow Hi\"| __truncated__ \"Public sent a video of a brief tornado kicking up a bit of dust resulting in no damage.\" \"A tornado developed and produced a Tornadic Debris Signature (TDS) on the KVNX radar north of Burlington. The t\"| __truncated__ \"A tornado briefly touched down 3 miles southwest of Maroa along Bearsdale Road just north of School Road at 4:3\"| __truncated__ ...\n $ DATA_SOURCE       : chr  \"CSV\" \"CSV\" \"CSV\" \"CSV\" ...\n\n\n\n\n\n\n\n\n\n\nMethods\nThis code implements an XGBoost regression model to predict total tornado damage (TOTAL_DAMAGE) using temporal, physical, and geographic features, with model performance evaluated using RMSE and feature importance. An XGBoost classification model classifies tornadoes as high-damage (HIGH_DAMAGE), evaluated via a confusion matrix. Additionally, an interactive leaflet map visualizes tornado locations, damage levels, intensity, and seasonal patterns.\n\nDataset Preparation:\n\nFirstly, we cleaned the dataset by selecting relevant columns, transforming damage values into numeric format, and handling missing values by replacing them with column means. Additionally, we engineered new features, such as total damage (TOTAL_DAMAGE), log-transformed damage (LOG_TOTAL_DAMAGE), and tornado area (TOR_AREA).\n\n\n'data.frame':   1523 obs. of  55 variables:\n $ BEGIN_YEARMONTH   : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ BEGIN_DAY         : int  5 7 17 3 12 27 27 10 26 31 ...\n $ BEGIN_TIME        : int  1630 1908 2024 1633 528 1710 1738 1445 1350 1813 ...\n $ END_YEARMONTH     : int  202308 202305 202306 202301 202307 202305 202305 202307 202307 202303 ...\n $ END_DAY           : int  5 7 17 3 12 27 27 10 26 31 ...\n $ END_TIME          : int  1631 1908 2025 1634 530 1712 1742 1500 1351 1821 ...\n $ DURATION1         : int  1 0 1 1 2 2 4 55 1 8 ...\n $ EPISODE_ID        : int  186989 180080 181327 177319 182436 180889 180889 184350 183275 178474 ...\n $ EVENT_ID          : int  1147720 1097121 1132462 1078130 1114268 1101514 1101515 1128542 1144388 1085817 ...\n $ STATE             : chr  \"ILLINOIS\" \"IOWA\" \"OKLAHOMA\" \"ILLINOIS\" ...\n $ REGION            : chr  \"MIDWEST\" \"MIDWEST\" \"SOUTHWEST\" \"MIDWEST\" ...\n $ STATE_FIPS        : int  17 19 40 17 19 35 35 53 26 17 ...\n $ YEAR              : int  2023 2023 2023 2023 2023 2023 2023 2023 2023 2023 ...\n $ MONTH_NAME        : chr  \"August\" \"May\" \"June\" \"January\" ...\n $ SEASON            : chr  \"Summer\" \"Spring\" \"Summer\" \"Winter\" ...\n $ EVENT_TYPE        : chr  \"Tornado\" \"Tornado\" \"Tornado\" \"Tornado\" ...\n $ CZ_TYPE           : chr  \"C\" \"C\" \"C\" \"C\" ...\n $ CZ_FIPS           : int  79 71 3 115 155 25 25 43 93 103 ...\n $ CZ_NAME           : chr  \"JASPER\" \"FREMONT\" \"ALFALFA\" \"MACON\" ...\n $ WFO               : chr  \"ILX\" \"OAX\" \"OUN\" \"ILX\" ...\n $ BEGIN_DATE_TIME   : chr  \"8/5/23 16:30\" \"5/7/23 19:08\" \"6/17/23 20:24\" \"1/3/23 16:33\" ...\n $ CZ_TIMEZONE       : chr  \"CST-6\" \"CST-6\" \"CST-6\" \"CST-6\" ...\n $ END_DATE_TIME     : chr  \"8/5/23 16:31\" \"5/7/23 19:08\" \"6/17/23 20:25\" \"1/3/23 16:34\" ...\n $ DURATION          : chr  \"0:01:00\" \"0:00:00\" \"0:01:00\" \"0:01:00\" ...\n $ INJURIES_DIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ INJURIES_INDIRECT : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_DIRECT     : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DEATHS_INDIRECT   : int  0 0 0 0 0 0 0 0 0 0 ...\n $ DAMAGE_PROPERTY   : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ DAMAGE_CROPS      : chr  \"0.00K\" \"\" \"0.00K\" \"0.00K\" ...\n $ SOURCE            : chr  \"Broadcast Media\" \"Public\" \"NWS Storm Survey\" \"Trained Spotter\" ...\n $ MAGNITUDE         : logi  NA NA NA NA NA NA ...\n $ MAGNITUDE_TYPE    : logi  NA NA NA NA NA NA ...\n $ FLOOD_CAUSE       : logi  NA NA NA NA NA NA ...\n $ CATEGORY          : logi  NA NA NA NA NA NA ...\n $ TOR_F_SCALE       : chr  \"EFU\" \"EFU\" \"EFU\" \"EF0\" ...\n $ TOR_LENGTH        : num  0.11 0.05 1.5 0.32 1.51 1 3.5 0.9 0.37 7.75 ...\n $ TOR_WIDTH         : num  20 50 30 25 40 50 50 40 75 75 ...\n $ TOR_OTHER_WFO     : chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_STATE: chr  \"\" \"\" \"\" \"\" ...\n $ TOR_OTHER_CZ_FIPS : num  NA NA NA NA NA NA NA NA NA NA ...\n $ TOR_OTHER_CZ_NAME : chr  \"\" \"\" \"\" \"\" ...\n $ BEGIN_RANGE       : num  3 1 1 4 2 8 11 3 2 1 ...\n $ BEGIN_AZIMUTH     : chr  \"ENE\" \"WNW\" \"N\" \"WSW\" ...\n $ BEGIN_LOCATION    : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ END_RANGE         : num  3 1 2 3 3 9 12 2 2 1 ...\n $ END_AZIMUTH       : chr  \"ENE\" \"WNW\" \"NE\" \"WSW\" ...\n $ END_LOCATION      : chr  \"WILLOW HILL\" \"PAYNE\" \"BURLINGTON\" \"MAROA\" ...\n $ BEGIN_LAT         : num  39 40.7 36.9 40 41.4 ...\n $ BEGIN_LON         : num  -88 -95.8 -98.4 -89 -95.4 ...\n $ END_LAT           : num  39 40.7 36.9 40 41.4 ...\n $ END_LON           : num  -88 -95.8 -98.4 -89 -95.3 ...\n $ EPISODE_NARRATIVE : chr  \"A cold front triggered a broken line of strong to severe thunderstorms across southeast Illinois during the lat\"| __truncated__ \"An Enhanced Risk was issued for severe weather on May 7. A shortwave moving across the area interacted with a c\"| __truncated__ \"Another unseasonably strong upper trough approached the region during the day on the 17th. Widespread thunderst\"| __truncated__ \"An area of low pressure tracking northeastward across Iowa pushed a cold front into central Illinois during the\"| __truncated__ ...\n $ EVENT_NARRATIVE   : chr  \"A tornado briefly touched down in an open field just south of Mound Church about 3 miles northeast of Willow Hi\"| __truncated__ \"Public sent a video of a brief tornado kicking up a bit of dust resulting in no damage.\" \"A tornado developed and produced a Tornadic Debris Signature (TDS) on the KVNX radar north of Burlington. The t\"| __truncated__ \"A tornado briefly touched down 3 miles southwest of Maroa along Bearsdale Road just north of School Road at 4:3\"| __truncated__ ...\n $ DATA_SOURCE       : chr  \"CSV\" \"CSV\" \"CSV\" \"CSV\" ...\n\n\n\nClass Balancing:\n\nTo address the imbalance in the high-damage (HIGH_DAMAGE) classification target, we oversampled the minority class using the ROSE library, creating a balanced dataset for training and testing.\n\nDamage Prediction (Regression):\n\nWe trained an XGBoost regression model to predict total damage (TOTAL_DAMAGE) based on temporal, physical, and geographic features. The model was evaluated using RMSE and RMSE as a percentage of the mean damage, with feature importance analyzed to identify key predictors.\n\n\nTuned XGBoost RMSE: 759.06 \n\n\nTuned XGBoost RMSE as percentage of mean TOTAL_DAMAGE: 15.41 %\n\n\n\nHigh-Damage Classification:\n\nFor binary classification of tornado events as high-damage or low-damage, we used an XGBoost classification model. Its performance was evaluated using a confusion matrix to assess prediction accuracy.\n\n\nConfusion Matrix and Statistics\n\n          Reference\nPrediction   0   1\n         0 116  30\n         1  39 125\n                                         \n               Accuracy : 0.7774         \n                 95% CI : (0.727, 0.8225)\n    No Information Rate : 0.5            \n    P-Value [Acc &gt; NIR] : &lt;2e-16         \n                                         \n                  Kappa : 0.5548         \n                                         \n Mcnemar's Test P-Value : 0.3355         \n                                         \n            Sensitivity : 0.8065         \n            Specificity : 0.7484         \n         Pos Pred Value : 0.7622         \n         Neg Pred Value : 0.7945         \n             Prevalence : 0.5000         \n         Detection Rate : 0.4032         \n   Detection Prevalence : 0.5290         \n      Balanced Accuracy : 0.7774         \n                                         \n       'Positive' Class : 1              \n                                         \n\n\n\nFeature Importance and Correlation Analysis:\n\nWe analyzed feature importance using XGBoost’s built-in importance metric and generated a correlation plot to explore relationships among predictors.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nUser-Input-Based Prediction:\n\nFinally, we implemented a function allowing users to input tornado attributes (e.g., location, size, duration) to predict total damage in real-time using the trained regression model.\n\n\nPredicted Total Damage ($): 6773.44 \n\n\n\n\nResults"
  },
  {
    "objectID": "Main.html#conclusions",
    "href": "Main.html#conclusions",
    "title": "Predicting the Damage of Tornadoes",
    "section": "Conclusions",
    "text": "Conclusions\nThis will be a summary of the significance/implications of our results, lessons learned, and recommendations for for future work."
  },
  {
    "objectID": "Main.html#references",
    "href": "Main.html#references",
    "title": "Predicting the Damage of Tornadoes",
    "section": "References",
    "text": "References\nNational Weather Service, “The Enhanced Fujita Scale (EF Scale),” National Oceanic and Atmospheric Administration, [Online]. Available: https://www.weather.gov/oun/efscale.\nNational Oceanic and Atmospheric Administration, “National Centers for Environmental Information Storm Events Database,” August 2024. [Online]. Available: https://www.ncei.noaa.gov/pub/data/swdi/stormevents/csvfiles/Storm-Data-Bulk-csv-Format.pdf.\nNational Centers for Environmental Information, “Storm Events Database,” National Oceanic and Atmospheric Administration, August 2024. [Online]. Available: https://www.ncdc.noaa.gov/stormevents/ftp.jsp."
  }
]